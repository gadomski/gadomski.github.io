
<!DOCTYPE html>
<html lang="en-us">
<head>

  
  <meta charset="UTF-8">
  <title>
    las-rs | gadomski.github.io
  </title>


  
  <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1">


  
  <link rel="stylesheet" href="/css/sanitize.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/highlight_monokai.css">
  <link rel="stylesheet/less" href="/css/theme.less">
  <link rel="stylesheet" href="/css/custom.css">


  
  <script src="/js/less.js" type="text/javascript"></script>


</head>



<body>
<div class="container">

  
  <header role="banner">
    <div class="row gutters">
      <div id="site-title" class="col span_6">
        <h1><a href="/">gadomski.github.io</a></h1>
        
      </div>
      <div id="social" class="col span_6">
        <ul>
          <li><a href="https://twitter.com/petegadomski" target="_blank">Twitter</a></li>
          
          <li><a href="https://github.com/gadomski" target="_blank">GitHub</a></li>
        </ul>
      </div>
    </div>
  </header>


  
  <main id="single" role="main">
    <div class="article-header">
      <h1>las-rs</h1>
      <div class="meta">
        May 12, 2015 &nbsp;
        
      </div>
    </div>
    <article>
      

<p><a href="http://www.rust-lang.org/">Rust</a> is a new language.</p>

<p>That&rsquo;s about where I want to leave it.
People <a href="http://winningraceconditions.blogspot.com/2012/09/rust-0-index-and-conclusion.html">like it</a>, people <a href="http://www.viva64.com/en/b/0324/">hate it</a>&hellip;kay.
I thought I&rsquo;d check it out, so I hacked together a quick <a href="http://www.asprs.org/Committee-General/LASer-LAS-File-Format-Exchange-Activities.html">las</a> reader.</p>

<p><a href="https://github.com/gadomski/las-rs">https://github.com/gadomski/las-rs</a>.</p>

<p>I plan to add the ability to write lasfiles as well, and maybe a command-line interface (either as part of <strong>las-rs</strong> or as a separate package) that roughly emulates <a href="http://www.liblas.org/">liblas</a> and <a href="http://www.cs.unc.edu/~isenburg/lastools/">lastools</a>.</p>

<p>My thoughts on working with rust so far:</p>

<ul>
<li><p>Yes yes yes <a href="https://crates.io/">cargo</a>.
<em>las</em> files are all little-endian, but rust doesn&rsquo;t come natively with an endian-aware read stream.
Boom, <a href="https://crates.io/crates/byteorder">byteorder</a>, and done.
Much better than manually vendoring some header-only C/C++ library or forcing boost upon yourself.</p></li>

<li><p>Language syntax is good.
Learning curve is not gentle, but that hopefully will change as rust <a href="http://blog.rust-lang.org/2014/12/12/1.0-Timeline.html">hits 1.0</a>.</p></li>

<li><p>+1 to built in, same-file testing.
The easier tests are to write, the more they will be written.</p></li>

<li><p>Once I learned the basics of the language, a rewrite of the <em>las</em> reader took less than probably five hours.
Much faster than an equivalent C/C++ standup, just from a pure typing mechanics perspective.
There&rsquo;s something to that.</p></li>

<li><p>I think I like <a href="https://doc.rust-lang.org/book/traits.html">traits</a>.</p></li>

<li><p>No opinion on performance yet.</p></li>
</ul>

<p>The biggest stick in the mud for rust, as it always has been, is the inertia/chicken-and-egg problem.
If I build <a href="https://github.com/gadomski/WDAL">my next big project</a> in rust, I&rsquo;m automatically HOSING anyone that wants to work on it with me.
Open source performance programming is more-or-less expected to be C/C++, full stop.
For now, rust might be a nice niche that I spec out fun little projects in, but as of yet I&rsquo;m not willing to commit my big developments to the new language.</p>

<h2 id="next-steps:3cc72ef3e1a99aab8e0f63fd512364dd">Next Steps</h2>

<p>As mentioned above, I want to make a writer and a command line interface.
I also want to FFI wrap <a href="http://trac.osgeo.org/geotiff/">libgeotiff</a> and <a href="http://www.gdal.org/">GDAL</a> so I can work with spatial reference systems in rust.
Might as well give the language a fighting chance, and the joy of cargo.io is that if I FFI wrap those things once, hopefully those wrappings can just become canonical and no one has to solve that problem again.
Here&rsquo;s hoping.</p>

    </article>
    


<script type="text/javascript">
     
    var disqus_shortname = '';

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

  </main>

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

